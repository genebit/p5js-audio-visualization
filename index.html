<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>GeneBeat - Audio Visualization</title>

		<!-- site styles -->
		<link rel="stylesheet" href="public/vendors/bs-coreui/bs-coreui.min.css" />
		<link rel="stylesheet" href="public/css/site.css" />

		<!-- p5js library -->
		<script src="public/vendors/p5js/p5.min.js"></script>
		<script src="public/vendors/p5js/p5.sound.min.js"></script>

		<!-- -->
		<script src="public/vendors/jquery/jquery.min.js"></script>
		<script defer src="public/vendors/bs-coreui/bs-coreui.min.js"></script>

		<!--  -->
		<script defer src="public/js/sketch.js"></script>
		<script defer src="public/js/micpermission.js"></script>
	</head>

	<body>
		<div class="container">
			<div id="sketchContainer"></div>
			<div class="spacer"></div>
			<div class="row">
				<div class="col-md-12">
					<div class="text-center">
						<h2>Audio Visualizer</h2>
						<p>Built using the P5JS Library</p>
					</div>
				</div>
			</div>
			<hr />
			<div class="row">
				<div class="col-md-6">
					<div class="card shadow border border-1">
						<div class="card-body p-4">
							<div class="col-md-12">
								<h3>Audio Source</h3>
								<p>Please make sure to allow the use of microphone in this website to work. Pick an audio source to visualize.</p>
							</div>
							<div class="col-md-12 d-flex flex-column gap-3">
								<div class="d-flex gap-3">
									<div class="form-check">
										<input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1" onclick="$('#audioFile, #audioControls').slideUp(300); getLocalStream()" checked />
										<label class="form-check-label" for="flexRadioDefault1">Microphone</label>
									</div>
									<div class="form-check">
										<input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2" onclick="$('#audioFile, #audioControls').slideDown(300)" />
										<label class="form-check-label" for="flexRadioDefault2">Audio File</label>
									</div>
								</div>
								<input type="file" class="form-control w-100" name="" id="audioFile" style="display: none" />
								<audio id="audioControls" controls class="w-100" style="display: none">
									<source src="" type="audio/mp3" />
									Your browser does not support the audio element.
								</audio>
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-6">
					<div class="row">
						<div class="col-md-12">
							<div class="card shadow border border-1">
								<div class="card-body p-4">
									<h3>Customization</h3>
									<p>Design your own audio spectrum!</p>
									<div class="row my-2">
										<div class="col-md-4">
											<p>Frequency Bands</p>
										</div>
										<div class="col-md-8">
											<div class="d-flex gap-3">
												<input class="form-range" id="freqBands" type="range" min="0" max="6" step="1" value="4" />
												<label id="freqBandsLabel" for="">128</label>
											</div>
										</div>
									</div>
									<div class="row my-2">
										<div class="col-md-4">
											<p>Smoothing</p>
										</div>
										<div class="col-md-8">
											<div class="d-flex gap-3">
												<input class="form-range" id="freqBandSmoothing" type="range" min="0" max="0.9" step="0.1" value="0" />
												<label id="freqBandSmoothingLabel" for="">0</label>
											</div>
										</div>
									</div>
									<div class="row my-2">
										<div class="col-md-4">
											<p>Spectrum Style</p>
										</div>
										<div class="col-md-8">
											<select class="form-select" id="spectrumStyle" style="width: 100%">
												<option value="Rectangle">Rectangle</option>
												<option value="Rectangle Thin">Rectangle Thin</option>
												<option value="Hypno">Hypno</option>
												<option value="Intestine">Intestine</option>
												<option value="Mirror">Mirror</option>
											</select>
										</div>
									</div>
									<div class="row my-2">
										<div class="col-md-4">
											<p>Background Color</p>
										</div>
										<div class="col-md-8">
											<input id="backgColor" type="color" value="#ffffff" />
										</div>
									</div>
									<div class="row my-2">
										<div class="col-md-4">
											<p>Spectrum Color</p>
										</div>
										<div class="col-md-8">
											<input id="spectrumColor" type="color" value="#2a2e33" />
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="spacer"></div>
			<footer>
				<hr style="color: white; margin: 0" />
				<p>&#169; GeneBit 2020</p>
			</footer>
		</div>
	</body>
</html>
